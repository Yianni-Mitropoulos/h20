Building the Porch, Studio, and Ward

============
=== Goal ===
============

@ paragraph
This guide will help you create a trinity of templates, upon which all our other templates will be based.

=============================
=== Choose Debian Version ===
=============================

@ paragraph
What version of Debian would you like to target? The latest is 13.

@ input field(XX)
Enter your preferred version of Debian, e.g. 13

==============================
=== Clone <code>dXX</code> ===
==============================

@ paragraph
Ensure <code>dXX</code> is shutdown. Then create three clones of <code>dXX</code>, having the following names:

@ unordered list
<li><code>dXX-porch</code> - for qubes that will have internet access.                                           </li>
<li><code>dXX-studio</code> - for qubes that are purely offline, but which nevertheless need to be full-featured.</li>
<li><code>dXX-ward</code> - for qubes that are purely offline, and which only need very limited functionality.   </li>

========================
=== Set Up The Porch ===
========================

@ paragraph
In the porch, run the following code. It enables networking and installs zeropad.

@ bash
sudo apt update
sudo apt install qubes-core-agent-networking
h0-sysctl enable modprobe

@ paragraph
You may also want to re-enable IPv6. This increases attack surface, but is sometimes useful. This can be done as follows:

@ bash
h0-sysctl enable ipv6

=========================
=== Set Up The Studio ===
=========================

@ paragraph
In the studio, run the following code.

@ bash
h0-sysctl enable modprobe

=======================
=== Set Up The Ward ===
=======================

@ paragraph
In the ward, run the following code.

@ bash
h0-harden-via-aggressive-purge